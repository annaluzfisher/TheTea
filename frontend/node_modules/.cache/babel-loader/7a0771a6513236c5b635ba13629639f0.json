{"ast":null,"code":"const ADD_SHARE = \"ADD_SHARE\";\nconst LOAD_SHARE = 'LOAD_SHARE';\nexport const addShare = share => ({\n  type: ADD_SHARE,\n  share\n});\nexport const loadShare = share_id => ({\n  type: LOAD_SHARE,\n  share_id\n});\nexport const getShare = share_id => async dispatch => {\n  const response = await fetch(`/api/shares/${share_id}`);\n\n  if (response.ok) {\n    const share = await response.json();\n    dispatch(loadShare(share_id));\n  }\n};\nexport const createShare = function (data) {\n  let share_id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '1';\n  return async dispatch => {\n    const response = await fetch(`/api/shares/${share_id}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n\n    if (response.ok) {\n      const newShare = await response.json();\n      dispatch(addShare(newShare));\n    }\n  };\n};\nlet initialState = {};\nexport default function shareReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SHARE:\n    case LOAD_SHARE:\n      //coming in with share id from back end\n      const newShare = { ...state\n      };\n      newShare[action.share_id] = action;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["ADD_SHARE","LOAD_SHARE","addShare","share","type","loadShare","share_id","getShare","dispatch","response","fetch","ok","json","createShare","data","method","headers","body","JSON","stringify","newShare","initialState","shareReducer","state","action"],"sources":["/Users/postgres/Desktop/Tea/teafrontend/src/store/share.js"],"sourcesContent":["const ADD_SHARE = \"ADD_SHARE\";\nconst LOAD_SHARE = 'LOAD_SHARE';\n\nexport const addShare = (share) => ({\n  type: ADD_SHARE,\n  share,\n});\n\nexport const loadShare = (share_id) =>({\n  type: LOAD_SHARE,\n  share_id\n})\n\nexport const getShare = (share_id) => async (dispatch) => {\n  const response = await fetch(`/api/shares/${share_id}`);\n  if (response.ok) {\n    const share = await response.json();\n    dispatch(loadShare(share_id));\n  }\n}\n\nexport const createShare = (data, share_id = '1') => async (dispatch) => {\n  const response = await fetch(`/api/shares/${share_id}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": 'application/json'\n    },\n    body: JSON.stringify(data)\n  })\n  if (response.ok) {\n    const newShare = await response.json();\n    dispatch(addShare(newShare));\n  }\n}\n\n let initialState = {};\n\n\nexport default function shareReducer(state = initialState, action) {\n  \n  switch (action.type) {\n    case ADD_SHARE:\n    case LOAD_SHARE:   //coming in with share id from back end\n    const newShare = {...state,};\n    newShare[action.share_id] = action\n\n   \n\n    default:\n      return state;\n  }\n}\n"],"mappings":"AAAA,MAAMA,SAAS,GAAG,WAAlB;AACA,MAAMC,UAAU,GAAG,YAAnB;AAEA,OAAO,MAAMC,QAAQ,GAAIC,KAAD,KAAY;EAClCC,IAAI,EAAEJ,SAD4B;EAElCG;AAFkC,CAAZ,CAAjB;AAKP,OAAO,MAAME,SAAS,GAAIC,QAAD,KAAc;EACrCF,IAAI,EAAEH,UAD+B;EAErCK;AAFqC,CAAd,CAAlB;AAKP,OAAO,MAAMC,QAAQ,GAAID,QAAD,IAAc,MAAOE,QAAP,IAAoB;EACxD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,eAAcJ,QAAS,EAAzB,CAA5B;;EACA,IAAIG,QAAQ,CAACE,EAAb,EAAiB;IACf,MAAMR,KAAK,GAAG,MAAMM,QAAQ,CAACG,IAAT,EAApB;IACAJ,QAAQ,CAACH,SAAS,CAACC,QAAD,CAAV,CAAR;EACD;AACF,CANM;AAQP,OAAO,MAAMO,WAAW,GAAG,UAACC,IAAD;EAAA,IAAOR,QAAP,uEAAkB,GAAlB;EAAA,OAA0B,MAAOE,QAAP,IAAoB;IACvE,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,eAAcJ,QAAS,EAAzB,EAA4B;MACtDS,MAAM,EAAE,MAD8C;MAEtDC,OAAO,EAAE;QACP,gBAAgB;MADT,CAF6C;MAKtDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;IALgD,CAA5B,CAA5B;;IAOA,IAAIL,QAAQ,CAACE,EAAb,EAAiB;MACf,MAAMS,QAAQ,GAAG,MAAMX,QAAQ,CAACG,IAAT,EAAvB;MACAJ,QAAQ,CAACN,QAAQ,CAACkB,QAAD,CAAT,CAAR;IACD;EACF,CAZ0B;AAAA,CAApB;AAcN,IAAIC,YAAY,GAAG,EAAnB;AAGD,eAAe,SAASC,YAAT,GAAoD;EAAA,IAA9BC,KAA8B,uEAAtBF,YAAsB;EAAA,IAARG,MAAQ;;EAEjE,QAAQA,MAAM,CAACpB,IAAf;IACE,KAAKJ,SAAL;IACA,KAAKC,UAAL;MAAmB;MACnB,MAAMmB,QAAQ,GAAG,EAAC,GAAGG;MAAJ,CAAjB;MACAH,QAAQ,CAACI,MAAM,CAAClB,QAAR,CAAR,GAA4BkB,MAA5B;;IAIA;MACE,OAAOD,KAAP;EATJ;AAWD"},"metadata":{},"sourceType":"module"}