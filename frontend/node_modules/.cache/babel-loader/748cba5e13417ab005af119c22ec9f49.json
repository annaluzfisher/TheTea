{"ast":null,"code":"import csrfFetch from \"./csrf\";\nconst RECEIVE_USER = 'RECEIVE_USER';\nconst DELETE_USER = 'DELETE_USER';\nexport const receiveUser = user => ({\n  type: RECEIVE_USER,\n  user\n});\nexport const deleteUser = userId => ({\n  type: DELETE_USER,\n  userId\n});\nexport const createUser = user => async dispatch => {\n  const res = await csrfFetch('/api/users', {\n    method: \"POST\",\n    body: JSON.stringify(user)\n  });\n\n  if (res.ok) {\n    const newUser = await res.json();\n    dispatch(receiveUser(newUser));\n  } else {\n    console.log('error result', res);\n  }\n};\n\nconst userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  Object.freeze(state);\n  const newState = { ...state\n  };\n\n  switch (action.type) {\n    case RECEIVE_USER:\n      return { ...newState,\n        ...action.user\n      };\n\n    case REMOVE_USER:\n      delete newState[action.userId];\n      return newState;\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["csrfFetch","RECEIVE_USER","DELETE_USER","receiveUser","user","type","deleteUser","userId","createUser","dispatch","res","method","body","JSON","stringify","ok","newUser","json","console","log","userReducer","state","action","Object","freeze","newState","REMOVE_USER"],"sources":["/Users/postgres/Desktop/Tea/teafrontend/src/store/user.js"],"sourcesContent":["import csrfFetch from \"./csrf\";\n\nconst RECEIVE_USER = 'RECEIVE_USER';\nconst DELETE_USER = 'DELETE_USER';\n\n\nexport const receiveUser = (user) =>({\n  type: RECEIVE_USER,\n  user\n})\n\nexport const deleteUser = (userId) => ({\n  type: DELETE_USER,\n  userId,\n});\n\nexport const createUser = (user) => async dispatch =>{\n  const res = await csrfFetch('/api/users', {\n    method: \"POST\",\n    body: JSON.stringify(user)\n  })\n  if (res.ok){\n  const newUser = await res.json();\n  dispatch(receiveUser(newUser))\n  } else {\n    console.log('error result',res)\n  }\n  \n}\n\n\n const userReducer = (state = {}, action) => {\n  Object.freeze(state);\n  const newState = { ...state }\n  switch(action.type){\n    case RECEIVE_USER:\n      return {...newState,...action.user};\n    case REMOVE_USER:\n      delete newState[action.userId]\n      return newState;\n    default:\n      return state;\n  }\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,QAAtB;AAEA,MAAMC,YAAY,GAAG,cAArB;AACA,MAAMC,WAAW,GAAG,aAApB;AAGA,OAAO,MAAMC,WAAW,GAAIC,IAAD,KAAU;EACnCC,IAAI,EAAEJ,YAD6B;EAEnCG;AAFmC,CAAV,CAApB;AAKP,OAAO,MAAME,UAAU,GAAIC,MAAD,KAAa;EACrCF,IAAI,EAAEH,WAD+B;EAErCK;AAFqC,CAAb,CAAnB;AAKP,OAAO,MAAMC,UAAU,GAAIJ,IAAD,IAAU,MAAMK,QAAN,IAAiB;EACnD,MAAMC,GAAG,GAAG,MAAMV,SAAS,CAAC,YAAD,EAAe;IACxCW,MAAM,EAAE,MADgC;IAExCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,IAAf;EAFkC,CAAf,CAA3B;;EAIA,IAAIM,GAAG,CAACK,EAAR,EAAW;IACX,MAAMC,OAAO,GAAG,MAAMN,GAAG,CAACO,IAAJ,EAAtB;IACAR,QAAQ,CAACN,WAAW,CAACa,OAAD,CAAZ,CAAR;EACC,CAHD,MAGO;IACLE,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BT,GAA3B;EACD;AAEF,CAZM;;AAeN,MAAMU,WAAW,GAAG,YAAwB;EAAA,IAAvBC,KAAuB,uEAAf,EAAe;EAAA,IAAXC,MAAW;EAC3CC,MAAM,CAACC,MAAP,CAAcH,KAAd;EACA,MAAMI,QAAQ,GAAG,EAAE,GAAGJ;EAAL,CAAjB;;EACA,QAAOC,MAAM,CAACjB,IAAd;IACE,KAAKJ,YAAL;MACE,OAAO,EAAC,GAAGwB,QAAJ;QAAa,GAAGH,MAAM,CAAClB;MAAvB,CAAP;;IACF,KAAKsB,WAAL;MACE,OAAOD,QAAQ,CAACH,MAAM,CAACf,MAAR,CAAf;MACA,OAAOkB,QAAP;;IACF;MACE,OAAOJ,KAAP;EAPJ;AASD,CAZA"},"metadata":{},"sourceType":"module"}