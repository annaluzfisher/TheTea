{"ast":null,"code":"const ADD_SHARE = \"ADD_SHARE\";\nconst LOAD_SHARE = 'LOAD_SHARE';\nexport const addShare = share => ({\n  type: ADD_SHARE,\n  share\n});\nexport const loadShare = share_id => ({\n  type: LOAD_SHARE,\n  share_id\n});\nexport const randomShare = () => ({\n  type: RANDOM_SHARE\n});\nexport const getShare = share_id => async dispatch => {\n  const response = await fetch(`/api/shares/${share_id}`);\n\n  if (response.ok) {\n    const share = await response.json();\n    dispatch(loadShare(share_id));\n  }\n};\nexport const createShare = data => async dispatch => {\n  //need to handle default user in the back end in controller\n  console.log('in create shares:', data);\n  const response = await fetch(`/api/shares`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": 'application/json',\n      \"accept\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n\n  if (response.ok) {\n    const newShare = await response.json();\n    console.log('newShare in createshares', newShare);\n    dispatch(addShare(newShare));\n  }\n};\nlet initialState = {};\nexport default function shareReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SHARE:\n    case LOAD_SHARE:\n      //coming in with share id from back end\n      const newState = { ...state\n      };\n      const newShare = {\n        [action.share_id]: action.share\n      }; //how do i have access to share when i'm not sending it back?\n\n      return { ...newState,\n        ...newShare\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["ADD_SHARE","LOAD_SHARE","addShare","share","type","loadShare","share_id","randomShare","RANDOM_SHARE","getShare","dispatch","response","fetch","ok","json","createShare","data","console","log","method","headers","body","JSON","stringify","newShare","initialState","shareReducer","state","action","newState"],"sources":["/Users/postgres/Desktop/Tea/teafrontend/src/store/share.js"],"sourcesContent":["const ADD_SHARE = \"ADD_SHARE\";\nconst LOAD_SHARE = 'LOAD_SHARE';\n\nexport const addShare = (share) => ({\n  type: ADD_SHARE,\n  share,\n});\n\nexport const loadShare = (share_id) =>({\n  type: LOAD_SHARE,\n  share_id\n})\n\nexport const randomShare =() => ({\n  type: RANDOM_SHARE,\n})\n\nexport const getShare = (share_id) => async (dispatch) => {\n  const response = await fetch(`/api/shares/${share_id}`);\n  if (response.ok) {\n    const share = await response.json();\n    dispatch(loadShare(share_id));\n  }\n}\n\nexport const createShare = (data) => async (dispatch) => { //need to handle default user in the back end in controller\n  console.log('in create shares:', data)\n  const response = await fetch(`/api/shares`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": 'application/json',\n      \"accept\" : \"application/json\"\n    },\n    body: JSON.stringify(data)\n  })\n  if (response.ok) {\n    const newShare = await response.json();\n    console.log('newShare in createshares', newShare)\n    dispatch(addShare(newShare));\n  }\n}\n\n let initialState = {};\n\n\nexport default function shareReducer(state = initialState, action) {\n  \n  switch (action.type) {\n    case ADD_SHARE:\n    case LOAD_SHARE:   //coming in with share id from back end\n    const newState = {...state,};\n    const newShare = {[action.share_id]: action.share}  //how do i have access to share when i'm not sending it back?\n    return {...newState,...newShare}\n  \n    default:\n      return state;\n  }\n}\n"],"mappings":"AAAA,MAAMA,SAAS,GAAG,WAAlB;AACA,MAAMC,UAAU,GAAG,YAAnB;AAEA,OAAO,MAAMC,QAAQ,GAAIC,KAAD,KAAY;EAClCC,IAAI,EAAEJ,SAD4B;EAElCG;AAFkC,CAAZ,CAAjB;AAKP,OAAO,MAAME,SAAS,GAAIC,QAAD,KAAc;EACrCF,IAAI,EAAEH,UAD+B;EAErCK;AAFqC,CAAd,CAAlB;AAKP,OAAO,MAAMC,WAAW,GAAE,OAAO;EAC/BH,IAAI,EAAEI;AADyB,CAAP,CAAnB;AAIP,OAAO,MAAMC,QAAQ,GAAIH,QAAD,IAAc,MAAOI,QAAP,IAAoB;EACxD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,eAAcN,QAAS,EAAzB,CAA5B;;EACA,IAAIK,QAAQ,CAACE,EAAb,EAAiB;IACf,MAAMV,KAAK,GAAG,MAAMQ,QAAQ,CAACG,IAAT,EAApB;IACAJ,QAAQ,CAACL,SAAS,CAACC,QAAD,CAAV,CAAR;EACD;AACF,CANM;AAQP,OAAO,MAAMS,WAAW,GAAIC,IAAD,IAAU,MAAON,QAAP,IAAoB;EAAE;EACzDO,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,IAAjC;EACA,MAAML,QAAQ,GAAG,MAAMC,KAAK,CAAE,aAAF,EAAgB;IAC1CO,MAAM,EAAE,MADkC;IAE1CC,OAAO,EAAE;MACP,gBAAgB,kBADT;MAEP,UAAW;IAFJ,CAFiC;IAM1CC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf;EANoC,CAAhB,CAA5B;;EAQA,IAAIL,QAAQ,CAACE,EAAb,EAAiB;IACf,MAAMW,QAAQ,GAAG,MAAMb,QAAQ,CAACG,IAAT,EAAvB;IACAG,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCM,QAAxC;IACAd,QAAQ,CAACR,QAAQ,CAACsB,QAAD,CAAT,CAAR;EACD;AACF,CAfM;AAiBN,IAAIC,YAAY,GAAG,EAAnB;AAGD,eAAe,SAASC,YAAT,GAAoD;EAAA,IAA9BC,KAA8B,uEAAtBF,YAAsB;EAAA,IAARG,MAAQ;;EAEjE,QAAQA,MAAM,CAACxB,IAAf;IACE,KAAKJ,SAAL;IACA,KAAKC,UAAL;MAAmB;MACnB,MAAM4B,QAAQ,GAAG,EAAC,GAAGF;MAAJ,CAAjB;MACA,MAAMH,QAAQ,GAAG;QAAC,CAACI,MAAM,CAACtB,QAAR,GAAmBsB,MAAM,CAACzB;MAA3B,CAAjB,CAFA,CAEoD;;MACpD,OAAO,EAAC,GAAG0B,QAAJ;QAAa,GAAGL;MAAhB,CAAP;;IAEA;MACE,OAAOG,KAAP;EARJ;AAUD"},"metadata":{},"sourceType":"module"}